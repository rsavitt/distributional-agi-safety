# RLM Experiment 2: Memory-as-Power
# Does memory budget asymmetry create power imbalances?
#
# 7 RLM agents (3 high-memory=200, 3 medium=50, 1 low=10) + 3 honest
# Externality internalization enabled (rho_a=rho_b=0.1)
# 40 epochs x 15 steps

scenario_id: rlm_memory_as_power
description: "Measures whether memory budget asymmetry creates systematic power imbalances and exploitation"
motif: memory_power

agents:
  # High-memory RLM agents (large working memory)
  - type: rlm
    count: 3
    name: rlm_high_mem
    config:
      recursion_depth: 3
      planning_horizon: 5
      memory_budget: 200

  # Medium-memory RLM agents
  - type: rlm
    count: 3
    name: rlm_mid_mem
    config:
      recursion_depth: 3
      planning_horizon: 5
      memory_budget: 50

  # Low-memory RLM agent (severely constrained)
  - type: rlm
    count: 1
    name: rlm_low_mem
    config:
      recursion_depth: 3
      planning_horizon: 5
      memory_budget: 10

  # Honest baseline
  - type: honest
    count: 3

governance:
  # Externality internalization
  transaction_tax_rate: 0.02
  bandwidth_cap: 15

  # Random audit
  audit_enabled: true
  audit_probability: 0.1
  audit_penalty_multiplier: 2.0
  audit_threshold_p: 0.5

  # Circuit breaker for extreme exploitation
  circuit_breaker_enabled: true
  freeze_threshold_toxicity: 0.7
  freeze_threshold_violations: 5
  freeze_duration_epochs: 2

simulation:
  n_epochs: 40
  steps_per_epoch: 15
  seed: 42

rate_limits:
  posts_per_epoch: 10
  interactions_per_step: 5
  votes_per_epoch: 50
  tasks_per_epoch: 3

payoff:
  s_plus: 2.0
  s_minus: 1.0
  h: 2.0
  theta: 0.5
  rho_a: 0.1
  rho_b: 0.1
  w_rep: 1.0

success_criteria:
  min_epochs: 40
  min_agents: 10

outputs:
  event_log: "logs/rlm_memory_as_power_events.jsonl"
  metrics_csv: "logs/rlm_memory_as_power_metrics.csv"
